<p>Ci-dessous nous avons un modèle <code>Task</code> et nous allons exécuter la méthode <code>find</code> sur ce modèle.</p>
<pre class="ruby">
class TaskController &lt; ApplicationController
  def index
    @tasks = Task.find_all_by_complete(:false, :order =&gt; "created_at DESC")
  end
end
</pre>
<p> Si la méthode <code>find</code> est exécutée plusieurs fois tout au long de l'application alors il y aura duplication. Une façon de supprimer cette duplication est de déplacer la méthode <code>find</code> dans le modèle ce qui nous permettra d'appeler</p>
<pre class="ruby">@tasks = Task.find_incomplete</pre>
<p>dans le contrôleur. Pour faire ceci, nous aurons besoin de créer une nouvelle méthode dans le modèle. La méthode doit être une méthode de classe et doit donc commencer par <code>self</code>.</p>
<pre class="ruby">
class Task &lt; ActiveRecord::Base
  belongs_to :project

  def self.find_incomplete
    find_all_by_complete(:false, :order =&gt; "created_at DESC")
  end
end
</pre>
<p>Il n'y a pas besoin de spécifier <code>Task</code> dans la ligne du <code>find</code> puisque le <code>find</code> est déjà dan le champ de la classe <code>Task</code>. Maintenant vous pouvez appeler <code>Task.find_incomplete</code> dès que vous en avez besoin pour exécuter ce <code>find</code>. Ceci fonctionnera même avec les associations donc vous pouvez trouver les tâches incomplètes d'un projet de la façon suivante :</p>
<pre class="ruby">
class ProjectsController &lt; ApplicationController
    def show
        @project = Project.find(params[:id])
        @tasks = @project.tasks.find_incomplete
    end
end
</pre>
