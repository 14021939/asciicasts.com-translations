<p>Parfois, notre gabarit peut être impacté par quelques messages flash. Chaque message prend 3 lignes de codes pour savoir si chaque message n'est pas nul avant d'essayer de l'afficher dans un tag paragraphe.</p>
<pre class="ruby">
&lt;html&gt;
 &lt;!-- (head snipped) --&gt;
  &lt;body&gt;
    &lt;h1&gt;ASCIIcasts&lt;/h1&gt;
    &lt;% unless flash[:notice].nil? %&gt;
      &lt;div id=&quot;notice&quot;&gt;&lt;%= flash[:notice] %&gt;&lt;/div&gt;
    &lt;% end %&gt;
    &lt;% unless flash[:notice].nil? %&gt;
      &lt;div id=&quot;notice&quot;&gt;&lt;%= flash[:notice] %&gt;&lt;/div&gt;
    &lt;% end %&gt;
    &lt;%= yield %&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>
<p class="title">Messages <code>flash</code> dans le fichier gabarit.</p>
<p>Il y a une façon plus simple de faire ceci qui consiste à parcourir les messages flash et de les afficher de cette façon :</p>
<pre class="ruby">
&lt;% flash.each do |key,msg| %&gt;
  &lt;%= content_tag :p, msg, :id =&gt; key %&gt;
&lt;% end %&gt;
</pre>
<p><code>content_tag</code> prend trois paramètres : le premier est le nom de l'élément, le second est le contenu qui apparait entre les éléments et le troisème est un hash d'options qui devient les attributs de l'éléments. Le code précédent est beaucoup plus court que l'original et a l'avantage que n'importe quel message flash que nous ajouterons sera automatiquement affiché.</p>