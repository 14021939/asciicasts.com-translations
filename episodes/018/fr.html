<p>Parfois, notre gabarit peut &ecirc;tre impact&eacute; par quelques messages flash. Chaque message prend 3 lignes de codes pour savoir si chaque message n&#x27;est pas nul avant d&#x27;essayer de l&#x27;afficher dans un tag paragraphe.</p>
<pre class="ruby">
&lt;html&gt;
 &lt;!-- (head snipped) --&gt;
  &lt;body&gt;
    &lt;h1&gt;ASCIIcasts&lt;/h1&gt;
    &lt;% unless flash[:notice].nil? %&gt;
      &lt;div id=&quot;notice&quot;&gt;&lt;%= flash[:notice] %&gt;&lt;/div&gt;
    &lt;% end %&gt;
    &lt;% unless flash[:notice].nil? %&gt;
      &lt;div id=&quot;notice&quot;&gt;&lt;%= flash[:notice] %&gt;&lt;/div&gt;
    &lt;% end %&gt;
    &lt;%= yield %&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>
<p class="title">Messages <code>flash</code> dans le fichier gabarit.</p>
<p>Il y a une fa&ccedil;on plus simple de faire ceci qui consiste &agrave; parcourir les messages flash et de les afficher de cette fa&ccedil;on :</p>
<pre class="ruby">
&lt;% flash.each do |key,msg| %&gt;
  &lt;%= content_tag :p, msg, :id =&gt; key %&gt;
&lt;% end %&gt;
</pre>
<p><code>content_tag</code> prend trois param&egrave;tres : le premier est le nom de l&#x27;&eacute;l&eacute;ment, le second est le contenu qui apparait entre les &eacute;l&eacute;ments et le trois&egrave;me est un hash d&#x27;options qui devient les attributs de l&#x27;&eacute;l&eacute;ments. Le code pr&eacute;c&eacute;dent est beaucoup plus court que l&#x27;original et a l&#x27;avantage que n&#x27;importe quel message flash que nous ajouterons sera automatiquement affich&eacute;.</p>